> æ•´ç†è‡ª 2025 å¹´ 12 æœˆçš„ç³»åˆ—å¯¹è¯  
> ç›®æ ‡ï¼šå˜æ¸…ç°ä»£ Python å¼€å‘ä¸­å„ç±»ç¯å¢ƒç®¡ç†å·¥å…·çš„å®šä½ã€åŒºåˆ«ä¸æœ€ä½³å®è·µ

---

## ä¸€ã€Docker å¸¸ç”¨æ“ä½œé€ŸæŸ¥

### é•œåƒï¼ˆImageï¼‰ç›¸å…³

| æ“ä½œ     | å‘½ä»¤                               |
| ------ | -------------------------------- |
| åˆ—å‡ºæœ¬åœ°é•œåƒ | `docker images`                  |
| æ‹‰å–é•œåƒ   | `docker pull <image-name>[:tag]` |
| æ„å»ºé•œåƒ   | `docker build -t <image-name> .` |
| åˆ é™¤é•œåƒ   | `docker rmi <image-id>`          |


### å®¹å™¨ï¼ˆContainerï¼‰ç›¸å…³

|æ“ä½œ|å‘½ä»¤|
|---|---|
|åˆ—å‡ºå®¹å™¨|`docker ps`ï¼ˆè¿è¡Œä¸­ï¼‰ / `docker ps -a`ï¼ˆå…¨éƒ¨ï¼‰|
|å¯åŠ¨/åœæ­¢|`docker start/stop <container>`|
|è¿›å…¥å®¹å™¨|`docker exec -it <container> /bin/bash`|
|æŸ¥çœ‹æ—¥å¿—|`docker logs [-f] <container>`|

### å¸¸ç”¨å‚æ•°

```bash
docker run -d --name my-app -p 8080:3000 -v $(pwd):/app my-image
```

- `-d`ï¼šåå°è¿è¡Œ
- `-p host:container`ï¼šç«¯å£æ˜ å°„
- `-v /host:/container`ï¼šæŒ‚è½½å·ï¼ˆå¼€å‘çƒ­æ›´æ–°ï¼‰
- `--rm`ï¼šé€€å‡ºåè‡ªåŠ¨åˆ é™¤

### Docker Composeï¼ˆå¤šæœåŠ¡ç¼–æ’ï¼‰

- `docker-compose up -d`ï¼šå¯åŠ¨æœåŠ¡æ ˆ
- `docker-compose down`ï¼šåœæ­¢å¹¶æ¸…ç†

---

## äºŒã€Docker çš„æœ¬è´¨ä¸å¸¸è§è¯¯åŒº

### è¯¯åŒº 1ï¼šDocker å®¹å™¨æ˜¯ä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿ

 **äº‹å®**ï¼šå®¹å™¨**å…±äº«å®¿ä¸»æœº Linux å†…æ ¸**ï¼Œä»…åŒ…å«åº”ç”¨åŠå…¶ä¾èµ–ï¼ˆç”¨æˆ·ç©ºé—´ï¼‰ï¼Œ**ä¸æ˜¯è™šæ‹Ÿæœº**ã€‚

### è¯¯åŒº 2ï¼šä¸ªäººå¼€å‘æ²¡å¿…è¦ç”¨ Dockerï¼Œåªé€‚åˆè¿ç§»

 **äº‹å®**ï¼šDocker åœ¨**ä¸ªäººå¼€å‘ä¸­ä»·å€¼æé«˜**ï¼š

- è§£å†³â€œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘â€é—®é¢˜
- å¿«é€Ÿæ­å»ºå¤æ‚ä¾èµ–ï¼ˆDBã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼‰
- å¤šé¡¹ç›®ç¯å¢ƒéš”ç¦»
- æ¨¡æ‹Ÿç”Ÿäº§æ¶æ„
- é¿å…æ±¡æŸ“æœ¬æœºç¯å¢ƒ

>  Docker çš„æ ¸å¿ƒä»·å€¼ï¼š**æ¶ˆé™¤â€œç¯å¢ƒâ€è¿™ä¸ªå˜é‡**ï¼Œå®ç°å¼€å‘ â†’ æµ‹è¯• â†’ ç”Ÿäº§ä¸€è‡´æ€§ã€‚

---

## ä¸‰ã€å­é¡¹ç›®ä¾èµ–çˆ¶ç›®å½•ï¼Ÿå¦‚ä½•ç”¨ Dockerï¼Ÿ

### åœºæ™¯

```
project/
â”œâ”€â”€ shared/               â† å…±äº«ä»£ç 
â””â”€â”€ apps/my-app/          â† å­é¡¹ç›®ï¼ˆå« Dockerfileï¼‰
```

###  æ­£ç¡®åšæ³•ï¼šä»é¡¹ç›®æ ¹ç›®å½•æ„å»º

```Dockerfile
# Dockerfileï¼ˆå¯æ”¾åœ¨å­ç›®å½•ï¼‰
FROM python:3.11
WORKDIR /app
COPY shared/ ./shared/
COPY apps/my-app/ ./my-app/
WORKDIR /app/my-app
CMD ["python", "app.py"]
```

```bash
# åœ¨ project/ æ ¹ç›®å½•æ‰§è¡Œ
docker build -f apps/my-app/Dockerfile -t my-app .
```

>  å…³é”®ï¼š**æ„å»ºä¸Šä¸‹æ–‡ï¼ˆbuild contextï¼‰å¿…é¡»åŒ…å«æ‰€æœ‰ä¾èµ–æ–‡ä»¶**

---

## å››ã€Docker vs è™šæ‹Ÿç¯å¢ƒï¼ˆvenvï¼‰

|ç»´åº¦|è™šæ‹Ÿç¯å¢ƒï¼ˆvenvï¼‰|Docker|
|---|---|---|
|**éš”ç¦»å±‚çº§**|è¯­è¨€åŒ…çº§åˆ«ï¼ˆä»… Pythonï¼‰|æ“ä½œç³»ç»Ÿç”¨æˆ·ç©ºé—´çº§åˆ«|
|**æ”¯æŒè¯­è¨€**|å•ä¸€è¯­è¨€|ä»»æ„è¯­è¨€|
|**ç³»ç»Ÿä¾èµ–**|ä¾èµ–å®¿ä¸»æœº|è‡ªåŒ…å«ï¼ˆé•œåƒä¸­è‡ªå¸¦ï¼‰|
|**è·¨å¹³å°ä¸€è‡´æ€§**|å¼±|å¼º|
|**é€‚åˆåœºæ™¯**|å•è¯­è¨€è„šæœ¬|å¤šæœåŠ¡ã€å¤æ‚ä¾èµ–ã€å›¢é˜Ÿåä½œ|

> **è™šæ‹Ÿç¯å¢ƒ = ç‹¬ç«‹å·¥å…·ç®±**  
> **Docker = ç‹¬ç«‹å¾®å‹å·¥å‚**

---

## äº”ã€uv è™šæ‹Ÿç¯å¢ƒ vs ä¼ ç»Ÿ venv

### æ ¸å¿ƒä¼˜åŠ¿

- **é€Ÿåº¦æå¿«**ï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ 50~100msï¼ˆæ¯” `venv` å¿« 10~50 å€ï¼‰
- **å®Œå…¨å…¼å®¹**ï¼šç”Ÿæˆæ ‡å‡† `venv` ç»“æ„ï¼ŒIDE å¯è¯†åˆ«
- **æ™ºèƒ½ Python å‘ç°**ï¼šè‡ªåŠ¨æ‰«æç³»ç»Ÿæ‰€æœ‰ Python ç‰ˆæœ¬
- **è¶…å¿«åŒ…å®‰è£…**ï¼š`uv pip install` æ¯”å®˜æ–¹ `pip` å¿« 10~100 å€

### ä½¿ç”¨æ–¹å¼

```bash
# åˆ›å»º
uv venv                # é»˜è®¤ .venv
uv venv --python 3.11  # æŒ‡å®šç‰ˆæœ¬

# å®‰è£…ä¾èµ–
uv pip install flask
uv pip compile requirements.in > requirements.txt  # ç”Ÿæˆ lock
uv pip sync requirements.txt                       # ç²¾ç¡®åŒæ­¥
```

>  **uv ä¸æ˜¯æ–°è™šæ‹Ÿç¯å¢ƒæ ¼å¼ï¼Œè€Œæ˜¯æ›´å¿«ã€æ›´æ™ºèƒ½çš„ venv åˆ›å»ºå™¨ + åŒ…ç®¡ç†å™¨**

---

## å…­ã€uv vs Condaï¼šæ˜¯å¦è¿˜éœ€è¦ Condaï¼Ÿ

### æ ¸å¿ƒåŒºåˆ«

|å·¥å…·|è®¾è®¡ç›®æ ‡|ç®¡ç†èŒƒå›´|
|---|---|---|
|**uv**|è¶…é«˜é€Ÿ Python åŒ…ç®¡ç†|ä»… PyPIï¼ˆPython ç”Ÿæ€ï¼‰|
|**Conda**|è·¨è¯­è¨€ç§‘å­¦è®¡ç®—å¹³å°|Python + R + C/C++ åº“ + ç³»ç»Ÿå·¥å…·ï¼ˆCUDA, gccï¼‰|

### ä½•æ—¶ç”¨ uvï¼Ÿ

- Web å¼€å‘ï¼ˆDjango/Flaskï¼‰
- çº¯ Python è„šæœ¬
- è¿½æ±‚é€Ÿåº¦å’Œç°ä»£å·¥å…·é“¾

### ä½•æ—¶ç”¨ Condaï¼Ÿ

- æœºå™¨å­¦ä¹ ï¼ˆPyTorch + CUDAï¼‰
- æ•°æ®ç§‘å­¦ï¼ˆscipy, xgboostï¼‰
- ç§‘å­¦è®¡ç®—ï¼ˆnumba, h5pyï¼‰
- å¤šè¯­è¨€é¡¹ç›®ï¼ˆPython + Rï¼‰

>  **ä¸è¦æ··ç”¨ï¼**
> 
> - åœ¨ Conda ç¯å¢ƒä¸­ç”¨ `uv pip install` å®‰è£…å« C æ‰©å±•çš„åŒ… â†’ **ææ˜“å´©æºƒ**
> - åŸåˆ™ï¼š**ä¸€ä¸ªé¡¹ç›®åªç”¨ä¸€å¥—å·¥å…·é“¾**

---

## ä¸ƒã€Pixiï¼šConda çš„ç°ä»£åŒ–æ›¿ä»£å“

### å®šä½

- ç”± `uv` åŒå›¢é˜Ÿï¼ˆPrefix.devï¼‰å¼€å‘
- ç»“åˆ Conda çš„**è·¨è¯­è¨€åŒ…ç”Ÿæ€** + `uv` çš„**é€Ÿåº¦ä¸ä½“éªŒ**
- ä½¿ç”¨ `conda-forge` ä½œä¸ºåŒ…æºï¼Œä½†ç”¨ Rust é‡å†™è§£æå™¨

### èƒ½åŠ›ï¼ˆæˆªè‡³ 2025 å¹´ 12 æœˆï¼‰

-  è·¨å¹³å°ï¼ˆmacOS/Windows/Linuxï¼‰
-  å¤šè¯­è¨€æ”¯æŒï¼ˆPython/R/Node.js/C++/Juliaï¼‰
-  CUDA / Apple Silicon æ”¯æŒ
-  ç²¾ç¡® lockfileï¼ˆ`pixi.lock`ï¼‰
-  ä»»åŠ¡ç³»ç»Ÿï¼ˆ`pixi task` æ›¿ä»£ Makefileï¼‰

### æ˜¯å¦ç¨³å®šï¼Ÿ

- **é«˜åº¦å¯ç”¨**ï¼šå·²è¢«ç§‘ç ”æœºæ„å’Œå·¥ä¸šå›¢é˜Ÿé‡‡ç”¨
- **ä»åœ¨å¿«é€Ÿè¿­ä»£**ï¼šv0.x é˜¶æ®µå¯èƒ½æœ‰å°çš„é…ç½®å˜æ›´
- **æ¨èç”¨äº**ï¼šAIã€ç§‘ç ”ã€æ•°æ®ç§‘å­¦ç­‰äº¤å‰é¢†åŸŸé¡¹ç›®

### å®‰è£…ä¸ä½¿ç”¨

```bash
# å®‰è£…
curl -fsSL https://pixi.sh/install.sh | bash

# åˆå§‹åŒ–
pixi init
pixi add python=3.11 numpy pytorch cudatoolkit=12.1

# è¿è¡Œ
pixi run python train.py
```

---

## å…«ã€Pixi èƒ½æ›¿ä»£ Docker å—ï¼Ÿ

###  å¯æ›¿ä»£çš„åœºæ™¯ï¼ˆå¼€å‘é˜¶æ®µï¼‰

- æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»ºï¼ˆæ¯” Docker æ›´å¿«ã€GPU å¼€ç®±å³ç”¨ï¼‰
- ç§‘ç ”å®éªŒå¯å¤ç°æ€§ï¼ˆç²¾ç¡®é”å®šæ‰€æœ‰ä¾èµ–ï¼‰
- CI/CD æµ‹è¯•ï¼ˆæ¯” Docker æ„å»ºæ›´å¿«ï¼‰

### æ— æ³•æ›¿ä»£çš„åœºæ™¯

- **å®Œæ•´æœåŠ¡ä¾èµ–**ï¼šPixi åªå®‰è£…å®¢æˆ·ç«¯ï¼ˆå¦‚ `psql`ï¼‰ï¼Œä¸å¯åŠ¨ PostgreSQL æœåŠ¡
- **å¼ºéš”ç¦»/å®‰å…¨**ï¼šæ— å†…æ ¸çº§éš”ç¦»
- **ç”Ÿäº§éƒ¨ç½²**ï¼šäº‘å¹³å°è¦æ±‚å®¹å™¨é•œåƒ
- **å¾®æœåŠ¡æ¶æ„**ï¼šæ— æ³•å®ç°æœåŠ¡è§£è€¦

### æœ€ä½³å®è·µï¼šååŒä½¿ç”¨

```mermaid
graph LR
  A[å¼€å‘] -->|Pixi| B(åº”ç”¨ç¯å¢ƒ)
  C[ä¾èµ–æœåŠ¡] -->|Docker Compose| D(Postgres/Redis)
  B --> D
  E[ç”Ÿäº§] -->|Docker Build| F(å®¹å™¨é•œåƒ)
```

> ğŸŒŸ **Pixi è´Ÿè´£â€œå¼€å‘ä½“éªŒâ€ï¼ŒDocker è´Ÿè´£â€œéƒ¨ç½²æ ‡å‡†åŒ–â€**

---

## ä¹ã€æ€»ç»“ï¼šå·¥å…·é€‰å‹æŒ‡å—

| é¡¹ç›®ç±»å‹              | æ¨èå·¥å…·é“¾                                  |
| ----------------- | -------------------------------------- |
| **Web åç«¯ / è„šæœ¬**   | `uv` + ç³»ç»Ÿ Python                       |
| **æ•°æ®ç§‘å­¦ / MLï¼ˆæœ¬åœ°ï¼‰** | `Pixi`ï¼ˆæˆ– Condaï¼‰                        |
| **MLï¼ˆéœ€ç”Ÿäº§éƒ¨ç½²ï¼‰**     | `Pixi`ï¼ˆå¼€å‘ï¼‰ + `Docker`ï¼ˆéƒ¨ç½²ï¼‰              |
| **å¤šæœåŠ¡åº”ç”¨**         | `Docker Compose`ï¼ˆæœåŠ¡ï¼‰ + `uv`/`Pixi`ï¼ˆåº”ç”¨ï¼‰ |
| **ç§‘ç ”å¯å¤ç°**         | `Pixi`ï¼ˆé¦–é€‰ï¼‰æˆ– `Docker`                   |

> **æ ¸å¿ƒåŸåˆ™**ï¼š
> 
> 1. **ä¸è¦æ··ç”¨ Conda å’Œ uv/pip**
> 2. **å¼€å‘è¿½æ±‚é€Ÿåº¦ä¸ä½“éªŒ â†’ uv / Pixi**
> 3. **éƒ¨ç½²è¿½æ±‚æ ‡å‡†åŒ–ä¸éš”ç¦» â†’ Docker**
> 4. **å·¥å…·æœåŠ¡äºéœ€æ±‚ï¼Œä¸æ˜¯åè¿‡æ¥**