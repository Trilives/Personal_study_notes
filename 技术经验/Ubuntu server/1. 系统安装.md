## 一、 安装准备阶段

在开始之前，确保你已经具备以下条件：

- **硬件需求：** 建议至少 2 核 CPU、4GB RAM、25 GB 硬盘空间。
    
- **镜像下载：** 从 [Ubuntu 官网](https://ubuntu.com/download/server) 下载最新的 ISO 镜像。
    
- **启动盘制作：** 推荐使用 **Ventoy** 或 **Rufus** 将 ISO 写入 USB 闪存盘。
    
- **网络环境：** 建议接入有线网络，以便在安装过程中自动获取 IP 并下载安全更新。
    

---

## 二、 安装过程选择（步骤详解）

启动后，系统会引导进入交互式安装界面（Subiquity）。

### 1. 基础环境设置

- **Language:** 选择 `English`。_建议生产环境使用英文，避免终端出现乱码。_
    
- **Keyboard Configuration:** 默认 `English (US)`。
    

### 2. 选择安装类型

- **Ubuntu Server:** 标准安装（推荐）。
    
- **Ubuntu Server (minimized):** 极简安装，仅包含运行基础服务的组件。
    

### 3. 网络配置 (Network Connections)

- **DHCP:** 如果有路由器，系统会自动获取 IP。
    
- **静态 IP:** 如果需要固定地址，选中网卡 -> `Edit IPv4` -> `Manual`。
    
    - Subnet: `192.168.1.0/24`
        
    - Address: `192.168.1.100`
        
    - Gateway: `192.168.1.1`
        
    - Name servers: `8.8.8.8, 1.1.1.1`
        

### 4. 存储配置 (Storage Configuration)

这是最关键的一步。

- **选项 A (Guided storage layout):** 勾选 `Use an entire disk`。
    
    - **重要：** 取消勾选 `Set up this disk as an LVM group` 旁的 "X"，除非你明确知道如何管理 LVM。
        
    - **建议：** 勾选 `Encrypt with LUKS`（仅限物理机且对安全性要求极高时）。
        
- **选项 B (Custom storage layout):** 手动分区。建议至少划分 `/` (root) 和 `/boot`。
    

### 5. 用户与主机配置 (Profile Setup)

- **Your name:** 你的名字。
    
- **Your server's name:** 主机名（如 `web-server-01`）。
    
- **Pick a username:** 登录账号（避免使用 `admin`）。
    
- **Password:** 强密码。
    

### 6. SSH 与软件预装

- **SSH Setup:** 务必勾选 `Install OpenSSH server`。这方便你稍后从宿主机远程登录。
    
- **Featured Server Snaps:** 这一步会列出 Docker, MicroK8s, Nextcloud 等。**建议全部不选**，系统装好后手动安装版本更可控。
    

---

## 三、 安装后的初始优化（复现脚本）

安装完成并重启后，建议立即执行以下操作：

### 1. 更新系统

Bash

```
sudo apt update && sudo apt upgrade -y
```

### 2. 常用基础工具安装

Bash

```
sudo apt install -y curl vim git ufw build-essential
```

### 3. 配置防火墙

Bash

```
sudo ufw allow OpenSSH
sudo ufw enable
```

### 4. 设置时区

Bash

```
sudo timedatectl set-timezone Asia/Shanghai
```

---

## 四、 笔记复现小技巧

为了让这份笔记在不同机器上完美复现，你可以考虑使用 **Autoinstall (Cloud-init)** 技术。

Ubuntu Server 支持通过一个名为 `user-data` 的 YAML 文件实现**无人值守安装**。如果你需要大规模部署，可以研究将上述所有选择写入该配置文件。

> **提示：** 如果你在虚拟机（如 VMware 或 Proxmox）上测试，建议在执行完上述所有步骤后，先关机并拍摄一个“原始镜像”快照。